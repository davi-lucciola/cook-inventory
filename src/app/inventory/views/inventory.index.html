{% extends 'layout.html' %}
<!-- -->
{% from 'macros.html' import show_messages %}
<!--  -->
{% block title %}
<title>Cook Inventory | Estoque</title>
{% endblock %}
<!--  -->
{% block main %}
<main class="container flex-grow-1 d-flex flex-column py-5">
  {{ show_messages() }}
  <h2 class="my-3"> Estoque </h2>
  <div class="d-flex justify-content-between my-3">
    <a class="btn btn-success w-25" href="/estoque/cadastrar">
      Cadastrar Item
      <i class="bi bi-plus-circle"></i>
    </a>
    <div class="input-group w-25">
      <input
        type="text"
        class="form-control"
        id="pesquisar"
        autocomplete="off"
      />
      <button class="input-group-text btn btn-success">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </div>
  {% if inventories|length != 0 %}
    <table class="table table-striped">
      <thead>
        <tr>
          <th> Id </th>
          <th> Nome </th>
          <th> Categoria </th>
          <th> Quantidade </th>
          <th> Quantidade Alerta </th>
          <th> Ações </th>
        </tr>
      </thead>
      <tbody>
        {% for inventory in inventories %}
          <tr>
            <td> {{ inventory.id }} </td>
            <td> {{ inventory.name }} </td>
            <td> {{ inventory.category.name }} </td>
            <td> {{ inventory.quantity }} {{ measures.get(inventory.measure.name).get('acronym') }} </td>
            <td> {{ inventory.alert_quantity }} {{ measures.get(inventory.measure.name).get('acronym') }} </td>
            <td>
              <a class="btn btn-primary" href="/estoque/{{inventory.id}}/atualizar">
                <i class="bi bi-pencil-square"></i>
              </a>
              <a class="btn btn-danger" href="/estoque/{{inventory.id}}/excluir">
                <i class="bi bi-trash3"></i>
              </a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <h4 class="mt-5 text-center"> Não foram encontrados resultados. </h3>
  {% endif %}
</main>
{% endblock %}